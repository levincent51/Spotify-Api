{"ast":null,"code":"var _jsxFileName = \"/Users/macuser/project/spotify-api-project/client/src/Pages/Moods.js\",\n    _s = $RefreshSig$();\n\nimport TrackInfo from \"../components/TrackInfo\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { spotifyApi, getAccessToken } from \"../components/spotifyAPI\";\nimport { arraySplice, getplaylists, getAllSongs } from \"../components/UserSongs\";\nimport { Slider, Typography, Switch, CircularProgress } from \"@material-ui/core\"; // CHOOSE YOUR MOODS: SAD, GYM, GROOVY(DANCE), HAPPY, STUDY, chill glad\n// GET AUDIOFEATURES OF SEVERAL TRACKS\n// GET ALL TRACKS FROM PLAYLIST, THEN ALL TRACJKS FROM SAVED\n// Find the best songs to fit your mood from your playlists:\n// sad songs: energy : less than 0.5 happy songs have more energy and dancibility VALENCE HIGH HAPPY LOW SAD\n// study songs have high instrumentals low speechiness\n\n/*\nDanceability: The degree of how suitable a track is for dancing based on tempo, rhythm stability, beat strength, and overall regularity. (0~1)\nEnergy: The perceptual measure of intensity based on dynamic range, perceived loudness, timbre, onset rate, and general entropy. (0~1)\nKey: The estimated overall pitch class of the track and its type of scale from which its melodic content is derived.\nLoudness: The quality of a sound that is the primary psychological correlate of amplitude in decibel. (-60~0)\nSpeechiness: The presence of spoken words in a track. (0~1)\nAcousticness: The confidence measure whether the track is acoustic. (0~1)\nLiveness: The presence of an audience in the recording. Higher liveness values represent an increased probability that the track was performed live. (0~1)\nValence: The musical positiveness conveyed by a track (e.g. happy, cheerful, euphoric). (0~1)\nTempo: The overall estimated tempo of a track in beats per minute (BPM). (±50~200)*/\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Moods = () => {\n  _s();\n\n  const [playlists, setPlaylists] = useState(\"all\");\n  const [audioFet, setAudioFet] = useState();\n  const [allSongs, setAllSongs] = useState();\n  const [toggleState, setToggleState] = useState(1);\n  const [mood, setMood] = useState(\"sad\");\n  const [songs, setSongs] = useState();\n  const [tracks, setTracks] = useState();\n  var audio_feat = JSON.parse(window.sessionStorage.getItem(\"audio_features\"));\n  var trackstorage = JSON.parse(window.sessionStorage.getItem(\"tracks\"));\n\n  const getTracksfromList = async arraysplice => {\n    var Tracks = {\n      tracks: []\n    };\n\n    for (var i = 0; i < arraysplice.length; i++) {\n      const c = await spotifyApi.getTracks(arraysplice[i].map(x => x.id));\n      Tracks.tracks = [...Tracks.tracks, ...c.tracks];\n    }\n\n    setTracks(Tracks);\n  }; // get every songs form every playlist and every saved\n\n  /*const toggleTab = (index, moods) => {\n  console.log(audioFet);\n  if (moods != mood) {\n  \tsetTracks();\n  }\n  \tsetMood(moods);\n  setToggleState(index);\n  };*/\n\n\n  useEffect(() => {\n    if (!trackstorage) {\n      async function fetchData() {\n        var all_songs = [];\n        await getplaylists([], 50, 0).then(async response => {\n          console.log(\"Fetching all songs...\");\n\n          for await (const index of response.map(x => x.id)) {\n            all_songs = [...all_songs, ...(await getAllSongs(index))];\n          } // instead of set state maybe import this from home\n          // filter duplicates\n\n\n          const unique = [...new Set(all_songs)];\n          setAllSongs(unique);\n          window.sessionStorage.setItem(\"tracks\", JSON.stringify(all_songs));\n        });\n      }\n\n      fetchData();\n    } else {\n      console.log(\"Fetching all songs...\");\n      setAllSongs(trackstorage);\n    }\n  }, []); //console.log(allSongs)\n\n  useEffect(() => {\n    //console.log(allSongs)\n    if (!audio_feat) {\n      if (allSongs) {\n        var all_audio = [];\n        const allSongsSpliced = arraySplice(allSongs, 100);\n\n        async function get(all_audio) {\n          for (const index of allSongsSpliced) {\n            const c = await spotifyApi.getAudioFeaturesForTracks(index);\n            all_audio = [...all_audio, ...c.audio_features];\n          }\n\n          const audioWithFeat = all_audio.filter(x => x); // filter out songs without features\n\n          setAudioFet(audioWithFeat);\n          window.sessionStorage.setItem(\"audio_features\", JSON.stringify(all_audio));\n        }\n\n        console.log(\"Fetching audio data...\");\n        get(all_audio);\n      }\n    } else {\n      console.log(\"Fetching audio data...\");\n      setAudioFet(audio_feat);\n    }\n  }, [allSongs]);\n  useEffect(() => {\n    if (allSongs) {\n      setSongs(1);\n    }\n  }, [allSongs]);\n  useEffect(() => {\n    if (audioFet) {// TODO ADJUST THE FILTERS\n\n      /*\n      const audioFetFix = audioFet.filter((x) => x); // some songs have no audio features\n      console.log(audioFetFix);\n      if (mood == \"sad\") {\n      console.log(\":(\");\n      const FilteredSplice = arraySplice(audioFetFix.filter((x) => x.valence < 0.3 && x.energy < 0.5 && x.danceability < 0.6), 50);\n      console.log(FilteredSplice)\n      if (FilteredSplice) {\n      getTracksfromList(FilteredSplice)\n      } else {\n      alert(\"No matches\")\n      }\n      // SET TRACKS IN THIS LOGIC\n      } else if (mood == \"happy\") {\n      console.log(\":)\");\n      const FilteredSplice = arraySplice( audioFetFix.filter((x) => x.tempo > 110 && x.speechiness < 0.2 && x.energy > 0.6 && x.danceability > 0.6 && x.valence > 0.6),50);\n      if (FilteredSplice) {\n      getTracksfromList(FilteredSplice)\n      } else {\n      alert(\"No matches\")\n      }\n      } else if (mood == \"study\") {\n      console.log(\":/\");\n      const FilteredSplice = arraySplice(audioFetFix.filter((x) =>  x.speechiness < 0.4 && x.energy < 0.55 && x.instrumentalness > 0.7), 50);\n      if (FilteredSplice) {\n      getTracksfromList(FilteredSplice)\n      } else {\n      alert(\"No matches\")\n      }\n      } else if (mood == \"gym (mad)\") {\n      const FilteredSplice = arraySplice(audioFetFix.filter((x) => x.tempo > 130 && x.energy > 0.65 && x.acousticness < 0.2 && x.liveness > 0.1), 50);\n      if (FilteredSplice) {\n      getTracksfromList(FilteredSplice)\n      } else {\n      alert(\"No matches\")\n      }\n      }*/\n    }\n  }, [mood, audioFet]);\n  const [value, setValue] = useState(0.5);\n  const [value1, setValue1] = useState(0.5);\n  const [value2, setValue2] = useState(0.5);\n  const [vocal, setVocal] = useState(false);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue / 100);\n  };\n\n  const handleChange1 = (event, newValue1) => {\n    setValue1(newValue1 / 100);\n  };\n\n  const handleChange2 = (event, newValue2) => {\n    setValue2(newValue2 / 100);\n  };\n\n  const handleVocal = () => {\n    setVocal(!vocal);\n  };\n\n  const filterReq = useCallback(async () => {\n    console.log(\"mood\", value);\n    console.log(\"energy\", value1);\n    console.log(\"groove\", value2);\n    console.log(\"vocal\", vocal);\n    const filter = audioFet.filter(x => x.valence >= value - 0.15 && x.valence <= value + 0.15 && x.energy >= value1 - 0.15 && x.energy <= value1 + 0.15 && x.danceability >= value2 - 0.15 && x.danceability <= value2 + 0.15);\n    var filter2;\n\n    if (vocal) {\n      filter2 = filter.filter(x => x.instrumentalness <= 0.4);\n      console.log(filter2);\n    } else {\n      filter2 = filter.filter(x => x.instrumentalness >= 0.8);\n      console.log(filter2);\n    }\n\n    const FilteredSplice = arraySplice(filter2, 50);\n    console.log(FilteredSplice);\n    getTracksfromList(FilteredSplice);\n  });\n  console.log(tracks);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\" \", \"Gather all your songs and find the perfect songs to match your current mood\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Choose source (in development)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \" Get All Liked Songs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \" Get All Playlists\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \" Get Only Your Playlists\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \" Get Everything\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: songs ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"Total Songs Discovered: \", audioFet ? audioFet.length : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: \"0\"\n          }, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Mood\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            value: value * 100,\n            onChange: handleChange,\n            \"aria-labelledby\": \"discrete-slider-small-steps\",\n            step: 10,\n            marks: true,\n            min: 0,\n            max: 100,\n            valueLabelDisplay: \"auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Energy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            value: value1 * 100,\n            onChange: handleChange1,\n            \"aria-labelledby\": \"discrete-slider-small-steps\",\n            step: 10,\n            marks: true,\n            min: 0,\n            max: 100,\n            valueLabelDisplay: \"auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Groove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Slider, {\n            value: value2 * 100,\n            onChange: handleChange2,\n            \"aria-labelledby\": \"discrete-slider-small-steps\",\n            step: 10,\n            marks: true,\n            min: 0,\n            max: 100,\n            valueLabelDisplay: \"auto\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            children: \"Vocals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Switch, {\n            onChange: handleVocal,\n            label: \"Vocals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 4\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 20\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Fetching all Songs....\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please do not refresh/leave the page while this is occuring.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this), \" \"]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), audioFet ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Songs Found: \", tracks ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: tracks.tracks.length\n        }, void 0, false) : 0, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: filterReq,\n          children: \"Find Songs!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 4\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: toggleState === 1 ? \"content  active-content\" : \"content\",\n        children: tracks ? tracks.tracks.length ? tracks.tracks.map((track, key) => /*#__PURE__*/_jsxDEV(TrackInfo, {\n          track: track,\n          index: tracks.tracks.indexOf(track)\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 19\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"no songs \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Click the button to find your songs!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: songs ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Fetching Audio Data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 22\n        }, this), \" \", /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 52\n        }, this)]\n      }, void 0, true) : null\n    }, void 0, false)]\n  }, void 0, true);\n};\n\n_s(Moods, \"YwItF5j0eSSXzkQqiSPANzyVEUM=\");\n\n_c = Moods;\nexport default Moods;\n\nvar _c;\n\n$RefreshReg$(_c, \"Moods\");","map":{"version":3,"sources":["/Users/macuser/project/spotify-api-project/client/src/Pages/Moods.js"],"names":["TrackInfo","React","useState","useEffect","useCallback","spotifyApi","getAccessToken","arraySplice","getplaylists","getAllSongs","Slider","Typography","Switch","CircularProgress","Moods","playlists","setPlaylists","audioFet","setAudioFet","allSongs","setAllSongs","toggleState","setToggleState","mood","setMood","songs","setSongs","tracks","setTracks","audio_feat","JSON","parse","window","sessionStorage","getItem","trackstorage","getTracksfromList","arraysplice","Tracks","i","length","c","getTracks","map","x","id","fetchData","all_songs","then","response","console","log","index","unique","Set","setItem","stringify","all_audio","allSongsSpliced","get","getAudioFeaturesForTracks","audio_features","audioWithFeat","filter","value","setValue","value1","setValue1","value2","setValue2","vocal","setVocal","handleChange","event","newValue","handleChange1","newValue1","handleChange2","newValue2","handleVocal","filterReq","valence","energy","danceability","filter2","instrumentalness","FilteredSplice","track","key","indexOf"],"mappings":"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","sourcesContent":["import TrackInfo from \"../components/TrackInfo\";\nimport React, { useState, useEffect, useCallback } from \"react\";\nimport { spotifyApi, getAccessToken } from \"../components/spotifyAPI\";\nimport {\n  arraySplice,\n  getplaylists,\n  getAllSongs,\n} from \"../components/UserSongs\";\nimport { Slider, Typography, Switch, CircularProgress } from \"@material-ui/core\";\n\n// CHOOSE YOUR MOODS: SAD, GYM, GROOVY(DANCE), HAPPY, STUDY, chill glad\n// GET AUDIOFEATURES OF SEVERAL TRACKS\n// GET ALL TRACKS FROM PLAYLIST, THEN ALL TRACJKS FROM SAVED\n\n// Find the best songs to fit your mood from your playlists:\n// sad songs: energy : less than 0.5 happy songs have more energy and dancibility VALENCE HIGH HAPPY LOW SAD\n// study songs have high instrumentals low speechiness\n\n/*\nDanceability: The degree of how suitable a track is for dancing based on tempo, rhythm stability, beat strength, and overall regularity. (0~1)\nEnergy: The perceptual measure of intensity based on dynamic range, perceived loudness, timbre, onset rate, and general entropy. (0~1)\nKey: The estimated overall pitch class of the track and its type of scale from which its melodic content is derived.\nLoudness: The quality of a sound that is the primary psychological correlate of amplitude in decibel. (-60~0)\nSpeechiness: The presence of spoken words in a track. (0~1)\nAcousticness: The confidence measure whether the track is acoustic. (0~1)\nLiveness: The presence of an audience in the recording. Higher liveness values represent an increased probability that the track was performed live. (0~1)\nValence: The musical positiveness conveyed by a track (e.g. happy, cheerful, euphoric). (0~1)\nTempo: The overall estimated tempo of a track in beats per minute (BPM). (±50~200)*/\n\n\n\nconst Moods = () => {\n  const [playlists, setPlaylists] = useState(\"all\");\n  const [audioFet, setAudioFet] = useState();\n  const [allSongs, setAllSongs] = useState();\n  const [toggleState, setToggleState] = useState(1);\n  const [mood, setMood] = useState(\"sad\");\n  const [songs, setSongs] = useState();\n  const [tracks, setTracks] = useState();\n\n  var audio_feat = JSON.parse(window.sessionStorage.getItem(\"audio_features\"));\n  var trackstorage = JSON.parse(window.sessionStorage.getItem(\"tracks\"));\n\n  const getTracksfromList = async (arraysplice) => {\n    var Tracks = { tracks: [] };\n\n    for (var i = 0; i < arraysplice.length; i++) {\n      const c = await spotifyApi.getTracks(arraysplice[i].map((x) => x.id));\n      Tracks.tracks = [...Tracks.tracks, ...c.tracks];\n    }\n    setTracks(Tracks);\n  };\n\n  // get every songs form every playlist and every saved\n\n  /*const toggleTab = (index, moods) => {\n\t\tconsole.log(audioFet);\n\t\tif (moods != mood) {\n\t\t\tsetTracks();\n\t\t}\n\n\t\tsetMood(moods);\n\t\tsetToggleState(index);\n\t};*/\n\n  useEffect(() => {\n    if (!trackstorage) {\n      async function fetchData() {\n        var all_songs = [];\n        await getplaylists([], 50, 0).then(async (response) => {\n          console.log(\"Fetching all songs...\");\n\n          for await (const index of response.map((x) => x.id)) {\n            all_songs = [...all_songs, ...(await getAllSongs(index))];\n          }\n\n          // instead of set state maybe import this from home\n          // filter duplicates\n          const unique = [...new Set(all_songs)];\n          setAllSongs(unique);\n          window.sessionStorage.setItem(\"tracks\", JSON.stringify(all_songs));\n        });\n      }\n      fetchData();\n    } else {\n      console.log(\"Fetching all songs...\");\n      setAllSongs(trackstorage);\n    }\n  }, []);\n  //console.log(allSongs)\n\n  useEffect(() => {\n    //console.log(allSongs)\n    if (!audio_feat) {\n      if (allSongs) {\n        var all_audio = [];\n\n        const allSongsSpliced = arraySplice(allSongs, 100);\n\n        async function get(all_audio) {\n          for (const index of allSongsSpliced) {\n            const c = await spotifyApi.getAudioFeaturesForTracks(index);\n            all_audio = [...all_audio, ...c.audio_features];\n          }\n\t\t  const audioWithFeat = all_audio.filter(x => x); // filter out songs without features\n          setAudioFet(audioWithFeat);\n          window.sessionStorage.setItem(\n            \"audio_features\",\n            JSON.stringify(all_audio)\n          );\n        }\n        console.log(\"Fetching audio data...\");\n        get(all_audio);\n      }\n    } else {\n      console.log(\"Fetching audio data...\");\n      setAudioFet(audio_feat);\n    }\n  }, [allSongs]);\n\n  useEffect(() => {\n    if (allSongs) {\n      setSongs(1);\n    }\n  }, [allSongs]);\n\n  useEffect(() => {\n    if (audioFet) {\n      // TODO ADJUST THE FILTERS\n      /*\n\t\t\tconst audioFetFix = audioFet.filter((x) => x); // some songs have no audio features\n\t\t\tconsole.log(audioFetFix);\n\t\t\tif (mood == \"sad\") {\n\t\t\t\tconsole.log(\":(\");\n\t\t\t\tconst FilteredSplice = arraySplice(audioFetFix.filter((x) => x.valence < 0.3 && x.energy < 0.5 && x.danceability < 0.6), 50);\n\t\t\t\tconsole.log(FilteredSplice)\n\t\t\t\tif (FilteredSplice) {\n\t\t\t\t\tgetTracksfromList(FilteredSplice)\n\n\t\t\t\t} else {\n\t\t\t\t\talert(\"No matches\")\n\t\t\t\t}\n\t\t\t\t// SET TRACKS IN THIS LOGIC\n\t\t\t} else if (mood == \"happy\") {\n\t\t\t\tconsole.log(\":)\");\n\t\t\t\tconst FilteredSplice = arraySplice( audioFetFix.filter((x) => x.tempo > 110 && x.speechiness < 0.2 && x.energy > 0.6 && x.danceability > 0.6 && x.valence > 0.6),50);\n\t\t\t\tif (FilteredSplice) {\n\t\t\t\t\tgetTracksfromList(FilteredSplice)\n\t\t\t\t} else {\n\t\t\t\t\talert(\"No matches\")\n\t\t\t\t}\n\t\t\t} else if (mood == \"study\") {\n\t\t\t\tconsole.log(\":/\");\n\t\t\t\tconst FilteredSplice = arraySplice(audioFetFix.filter((x) =>  x.speechiness < 0.4 && x.energy < 0.55 && x.instrumentalness > 0.7), 50);\n\t\t\t\tif (FilteredSplice) {\n\t\t\t\t\tgetTracksfromList(FilteredSplice)\n\t\t\t\t} else {\n\t\t\t\t\talert(\"No matches\")\n\t\t\t\t}\n\t\t\t} else if (mood == \"gym (mad)\") {\n\t\t\t\tconst FilteredSplice = arraySplice(audioFetFix.filter((x) => x.tempo > 130 && x.energy > 0.65 && x.acousticness < 0.2 && x.liveness > 0.1), 50);\n\t\t\t\tif (FilteredSplice) {\n\t\t\t\t\tgetTracksfromList(FilteredSplice)\n\t\t\t\t} else {\n\t\t\t\t\talert(\"No matches\")\n\t\t\t\t}\n\n\n\t\t\t}*/\n    }\n  }, [mood, audioFet]);\n\n\n  const [value, setValue] = useState(0.5);\n  const [value1, setValue1] = useState(0.5);\n  const [value2, setValue2] = useState(0.5);\n  const [vocal, setVocal] = useState(false);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue/100);\n  };\n  const handleChange1 = (event, newValue1) => {\n    setValue1(newValue1/100);\n  };\n  const handleChange2 = (event, newValue2) => {\n    setValue2(newValue2/100);\n  };\n  const handleVocal = () => {\n    setVocal(!vocal);\n  };\n\n\n\n  const filterReq = useCallback( async () => {\n\tconsole.log(\"mood\", value);\n\tconsole.log(\"energy\", value1);\n\tconsole.log(\"groove\", value2);\n\tconsole.log(\"vocal\", vocal);\n\tconst filter = audioFet.filter((x) => \n\tx.valence >= (value - 0.15) && x.valence <= (value + 0.15) &&\n\tx.energy >= (value1 - 0.15) && x.energy <= (value1 + 0.15) &&\n\tx.danceability >= (value2 - 0.15) && x.danceability <= (value2 + 0.15) \n\t)\n\tvar filter2;\n\tif (vocal) {\n\t\tfilter2 = filter.filter((x) => x.instrumentalness <= 0.4)\n\n\t\tconsole.log(filter2)\n\t} else {\n\t\tfilter2 = filter.filter((x) => x.instrumentalness >= 0.8)\n\t\tconsole.log(filter2)\n\t}\n\n\tconst FilteredSplice = arraySplice(filter2,50)\n\tconsole.log(FilteredSplice)\n\tgetTracksfromList(FilteredSplice)\n\n  })\n  console.log(tracks)\n\n  return (\n    <>\n      <h1>\n        {\" \"}\n        Gather all your songs and find the perfect songs to match your current\n        mood\n      </h1>\n      <h2>Choose source (in development)</h2>\n      <button> Get All Liked Songs</button>\n      <button> Get All Playlists</button>\n      <button> Get Only Your Playlists</button>\n      <button> Get Everything</button>\n      <div>\n        {songs ? ( <div className=\"container\">\n            <h2>\n              Total Songs Discovered: {audioFet ? audioFet.length : <>0</>}\n            </h2>\n\n            <div>\n              <Typography>Mood</Typography>\n\n              <Slider\n                value={value *100}\n                onChange={handleChange}\n                aria-labelledby=\"discrete-slider-small-steps\"\n                step={10}\n                marks\n                min={0}\n                max={100}\n                valueLabelDisplay=\"auto\"\n              />\n            </div>\n            <div>\n              <Typography>Energy</Typography>\n\n              <Slider\n                value={value1 *100}\n                onChange={handleChange1}\n                aria-labelledby=\"discrete-slider-small-steps\"\n                step={10}\n                marks\n                min={0}\n                max={100}\n                valueLabelDisplay=\"auto\"\n              />\n            </div>\n            <div>\n              <Typography>Groove</Typography>\n\n              <Slider\n                value={value2 *100}\n                onChange={handleChange2}\n                aria-labelledby=\"discrete-slider-small-steps\"\n                step={10}\n                marks\n                min={0}\n                max={100}\n                valueLabelDisplay=\"auto\"\n              />\n            </div>\n\t\t\t<div>\n            <Typography>Vocals</Typography>\n            <Switch onChange={handleVocal} label=\"Vocals\" />\n\t\t\t</div>\n        </div>\n        ) : (\n          <>\n            <b>Fetching all Songs....</b>\n            <CircularProgress/>\n            <p>\n              Please do not refresh/leave the page while this is occuring.\n            </p>{\" \"}\n          </>\n        )}\n      </div>\n\n      {audioFet ? (\n        <div className=\"content-tabs\">\n          <p>Songs Found: {tracks ? <>{tracks.tracks.length}</> : 0} </p>\n\n\t\t  <div>\n\t\t\t<button onClick={filterReq}>Find Songs!</button>\n\t\t\t</div>\n          <div\n            className={\n              toggleState === 1 ? \"content  active-content\" : \"content\"\n            }\n          >\n            {tracks ? (\n    \n              tracks.tracks.length ? (\n                tracks.tracks.map((track, key) => (\n                  <TrackInfo\n                    key={key}\n                    track={track}\n                    index={tracks.tracks.indexOf(track)}\n                  />\n                ))) : (<p>no songs </p>)\n              \n            \n            ) : (\n              <p>Click the button to find your songs!</p>\n            )}\n          </div>\n        </div>\n      ) : (\n        <>{songs ? <><b>Fetching Audio Data...</b> <CircularProgress/></>: null}</>\n      )}\n    </>\n  );\n};\n\nexport default Moods;\n"]},"metadata":{},"sourceType":"module"}