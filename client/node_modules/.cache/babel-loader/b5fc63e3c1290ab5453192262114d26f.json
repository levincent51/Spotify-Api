{"ast":null,"code":"import _slicedToArray from\"/Users/macuser/project/spotify-api-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useState,useEffect}from\"react\";import{BrowserRouter,Route,Switch,Link}from\"react-router-dom\";import{LogoutButton}from\"../components/functions\";import Navbar from\"../components/Navbar\";import TopTracks from\"./TopTracks\";import RecentTracks from\"./RecentTracks\";import SpotifyPlayer from\"react-spotify-web-playback\";import{spotifyApi}from\"../components/spotifyAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Dashboard(_ref){var token=_ref.token;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isPlaying=_useState2[0],setIsPlaying=_useState2[1];useEffect(function(){var interval=setInterval(function(){spotifyApi.getMyCurrentPlaybackState().then(function(response){if(response){setIsPlaying(true);}else if(!response){setIsPlaying(false);}});},2000);return function(){return clearInterval(interval);};},[isPlaying]);//return should return, getTOPTRACKS, make playlist\n// DashBoard should tell us our favourite genre based on our top artist\nreturn/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/RecentTracks\",children:/*#__PURE__*/_jsx(RecentTracks,{})}),/*#__PURE__*/_jsx(Route,{path:\"/logout\",children:/*#__PURE__*/_jsx(LogoutButton,{})}),/*#__PURE__*/_jsx(Route,{path:\"/TopTracks\",children:/*#__PURE__*/_jsx(TopTracks,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"WELCOME TO SPOTIFY API\"})})]}),isPlaying?/*#__PURE__*/_jsxs(\"div\",{className:\"player\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"Currently Playing\"}),/*#__PURE__*/_jsx(SpotifyPlayer,{token:token,syncExternalDevice:true,syncExternalDeviceInterval:3})]}):/*#__PURE__*/_jsx(\"div\",{className:\"player\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Not Playing Anything Currently\"})})]})});}// ****** NESTED ROUTING","map":{"version":3,"sources":["/Users/macuser/project/spotify-api-project/client/src/Pages/Dashboard.js"],"names":["React","Component","useState","useEffect","BrowserRouter","Route","Switch","Link","LogoutButton","Navbar","TopTracks","RecentTracks","SpotifyPlayer","spotifyApi","Dashboard","token","isPlaying","setIsPlaying","interval","setInterval","getMyCurrentPlaybackState","then","response","clearInterval"],"mappings":"oIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,CAAqCC,SAArC,KAAsD,OAAtD,CACA,OAASC,aAAT,CAAwBC,KAAxB,CAA+BC,MAA/B,CAAuCC,IAAvC,KAAmD,kBAAnD,CACA,OAASC,YAAT,KAA6B,yBAA7B,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,OAASC,UAAT,KAA2B,0BAA3B,C,wFAEA,cAAe,SAASC,CAAAA,SAAT,MAA8B,IAATC,CAAAA,KAAS,MAATA,KAAS,CAC3C,cAAkCb,QAAQ,CAAC,KAAD,CAA1C,wCAAOc,SAAP,eAAkBC,YAAlB,eAEAd,SAAS,CAAC,UAAM,CACd,GAAMe,CAAAA,QAAQ,CAAGC,WAAW,CAAE,UAAM,CACpCN,UAAU,CAACO,yBAAX,GAAuCC,IAAvC,CAA4C,SAACC,QAAD,CAAc,CACxD,GAAIA,QAAJ,CAAc,CACZL,YAAY,CAAC,IAAD,CAAZ,CACD,CAFD,IAEO,IAAG,CAACK,QAAJ,CAAc,CACnBL,YAAY,CAAC,KAAD,CAAZ,CACD,CACF,CAND,EAOD,CAR6B,CAQ3B,IAR2B,CAA5B,CASA,MAAO,kBAAMM,CAAAA,aAAa,CAACL,QAAD,CAAnB,EAAP,CAED,CAZQ,CAYN,CAACF,SAAD,CAZM,CAAT,CAgBA;AACA;AACA,mBACE,KAAC,aAAD,wBACE,oCACA,KAAC,MAAD,IADA,cAGE,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,eAAZ,uBACE,KAAC,YAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,IAAI,CAAC,SAAZ,uBACE,KAAC,YAAD,IADF,EAJF,cAOE,KAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,uBACE,KAAC,SAAD,IADF,EAPF,cAUE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,uBACE,8CADF,EAVF,GAHF,CAiBCA,SAAS,cACN,aAAK,SAAS,CAAC,QAAf,wBACA,wCADA,cAEA,KAAC,aAAD,EACE,KAAK,CAAED,KADT,CAEE,kBAAkB,CAAE,IAFtB,CAGE,0BAA0B,CAAE,CAH9B,EAFA,GADM,cAUN,YAAK,SAAS,CAAC,QAAf,uBACA,qDADA,EA3BJ,GADF,EADF,CAoCD,CACD","sourcesContent":["import React, { Component, useState, useEffect } from \"react\";\nimport { BrowserRouter, Route, Switch, Link } from \"react-router-dom\";\nimport { LogoutButton } from \"../components/functions\";\nimport Navbar from \"../components/Navbar\";\nimport TopTracks from \"./TopTracks\";\nimport RecentTracks from \"./RecentTracks\";\nimport SpotifyPlayer from \"react-spotify-web-playback\";\nimport { spotifyApi } from \"../components/spotifyAPI\";\n\nexport default function Dashboard({ token }) {\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  useEffect(() => {\n    const interval = setInterval( () => {\n    spotifyApi.getMyCurrentPlaybackState().then((response) => {\n      if (response) {\n        setIsPlaying(true);\n      } else if(!response) {\n        setIsPlaying(false)\n      }\n    })\n  }, 2000)\n    return () => clearInterval(interval)\n\n  }, [isPlaying]);\n\n\n\n  //return should return, getTOPTRACKS, make playlist\n  // DashBoard should tell us our favourite genre based on our top artist\n  return (\n    <BrowserRouter>\n      <div /* will make a header bar FOR ALL OUR BROWSER ROUTES*/>\n      <Navbar/>\n        \n        <Switch>\n          <Route path=\"/RecentTracks\">\n            <RecentTracks />\n          </Route>\n          <Route path=\"/logout\">\n            <LogoutButton />\n          </Route>\n          <Route path=\"/TopTracks\">\n            <TopTracks />\n          </Route>\n          <Route path=\"/\">\n            <h1>WELCOME TO SPOTIFY API</h1>\n          </Route>\n        </Switch>\n      {isPlaying ? (\n          <div className='player'>\n          <b>Currently Playing</b>\n          <SpotifyPlayer\n            token={token}\n            syncExternalDevice={true}\n            syncExternalDeviceInterval={3}\n          />\n          </div>\n        ) : (\n          <div className='player'>\n          <b>Not Playing Anything Currently</b>\n          </div>\n        )}\n      </div>\n    </BrowserRouter>\n  );\n}\n// ****** NESTED ROUTING\n"]},"metadata":{},"sourceType":"module"}