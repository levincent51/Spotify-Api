{"ast":null,"code":"import _slicedToArray from\"/Users/macuser/project/spotify-api-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";// gets hash parameters\nimport{jsx as _jsx}from\"react/jsx-runtime\";export function getHashParams(){var hashParams={};var e,r=/([^&;=]+)=?([^&;]*)/g,q=window.location.hash.substring(1);e=r.exec(q);while(e){hashParams[e[1]]=decodeURIComponent(e[2]);e=r.exec(q);}return hashParams;}export function millisToMinutesAndSeconds(millis){var minutes=Math.floor(millis/60000);var seconds=(millis%60000/1000).toFixed(0);return minutes+\":\"+(seconds<10?\"0\":\"\")+seconds;}// Retrieve object stored in localStorage\nexport var getObject=function getObject(key){var value=window.sessionStorage.getItem(key);if(value===null||value===\"undefined\")return null;return JSON.parse(value);};// Store object as string in storage\nexport var setObject=function setObject(key,value){return window.sessionStorage.setItem(key,JSON.stringify(value));};export var LogoutButton=function LogoutButton(){window.localStorage.clear();window.location.replace(\"/\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loggedOut=_useState2[0],setLoggedOut=_useState2[1];var logout=function logout(){localStorage.removeItem(\"whpf_user\");setLoggedOut(true);};if(loggedOut){return/*#__PURE__*/_jsx(Redirect,{to:\"/\",push:true});}return/*#__PURE__*/_jsx(Button,{onClick:logout,children:\"LogOut\"});};","map":{"version":3,"sources":["/Users/macuser/project/spotify-api-project/client/src/components/functions.js"],"names":["React","useState","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","millisToMinutesAndSeconds","millis","minutes","Math","floor","seconds","toFixed","getObject","key","value","sessionStorage","getItem","JSON","parse","setObject","setItem","stringify","LogoutButton","localStorage","clear","replace","loggedOut","setLoggedOut","logout","removeItem"],"mappings":"oIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CAEA;2CACA,MAAO,SAASC,CAAAA,aAAT,EAAyB,CAC9B,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,CAAJ,CACEC,CAAC,CAAG,sBADN,CAEEC,CAAC,CAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,SAArB,CAA+B,CAA/B,CAFN,CAGAN,CAAC,CAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAJ,CACA,MAAOF,CAAP,CAAU,CACRD,UAAU,CAACC,CAAC,CAAC,CAAD,CAAF,CAAV,CAAmBQ,kBAAkB,CAACR,CAAC,CAAC,CAAD,CAAF,CAArC,CACAA,CAAC,CAAGC,CAAC,CAACM,IAAF,CAAOL,CAAP,CAAJ,CACD,CAED,MAAOH,CAAAA,UAAP,CACD,CAED,MAAO,SAASU,CAAAA,yBAAT,CAAmCC,MAAnC,CAA2C,CAChD,GAAIC,CAAAA,OAAO,CAAGC,IAAI,CAACC,KAAL,CAAWH,MAAM,CAAG,KAApB,CAAd,CACA,GAAII,CAAAA,OAAO,CAAG,CAAEJ,MAAM,CAAG,KAAV,CAAmB,IAApB,EAA0BK,OAA1B,CAAkC,CAAlC,CAAd,CACA,MAAOJ,CAAAA,OAAO,CAAG,GAAV,EAAiBG,OAAO,CAAG,EAAV,CAAe,GAAf,CAAqB,EAAtC,EAA4CA,OAAnD,CACD,CAED;AAEA,MAAO,IAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,GAAD,CAAS,CAChC,GAAMC,CAAAA,KAAK,CAAGf,MAAM,CAACgB,cAAP,CAAsBC,OAAtB,CAA8BH,GAA9B,CAAd,CACA,GAAIC,KAAK,GAAK,IAAV,EAAkBA,KAAK,GAAK,WAAhC,CAA6C,MAAO,KAAP,CAC7C,MAAOG,CAAAA,IAAI,CAACC,KAAL,CAAWJ,KAAX,CAAP,CACD,CAJM,CAMP;AACA,MAAO,IAAMK,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACN,GAAD,CAAMC,KAAN,QACvBf,CAAAA,MAAM,CAACgB,cAAP,CAAsBK,OAAtB,CAA8BP,GAA9B,CAAmCI,IAAI,CAACI,SAAL,CAAeP,KAAf,CAAnC,CADuB,EAAlB,CAGP,MAAO,IAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CAChCvB,MAAM,CAACwB,YAAP,CAAoBC,KAApB,GACAzB,MAAM,CAACC,QAAP,CAAgByB,OAAhB,CAAwB,GAAxB,EACA,cAAkChC,QAAQ,CAAC,KAAD,CAA1C,wCAAOiC,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnBL,YAAY,CAACM,UAAb,CAAwB,WAAxB,EACAF,YAAY,CAAC,IAAD,CAAZ,CACD,CAHD,CAKA,GAAID,SAAJ,CAAe,CACb,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,CAAiB,IAAI,CAAE,IAAvB,EAAP,CACD,CAED,mBAAO,KAAC,MAAD,EAAQ,OAAO,CAAEE,MAAjB,oBAAP,CACD,CAfM","sourcesContent":["import React, { useState } from \"react\";\n\n// gets hash parameters\nexport function getHashParams() {\n  var hashParams = {};\n  var e,\n    r = /([^&;=]+)=?([^&;]*)/g,\n    q = window.location.hash.substring(1);\n  e = r.exec(q);\n  while (e) {\n    hashParams[e[1]] = decodeURIComponent(e[2]);\n    e = r.exec(q);\n  }\n\n  return hashParams;\n}\n\nexport function millisToMinutesAndSeconds(millis) {\n  var minutes = Math.floor(millis / 60000);\n  var seconds = ((millis % 60000) / 1000).toFixed(0);\n  return minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n}\n\n// Retrieve object stored in localStorage\n\nexport const getObject = (key) => {\n  const value = window.sessionStorage.getItem(key);\n  if (value === null || value === \"undefined\") return null;\n  return JSON.parse(value);\n};\n\n// Store object as string in storage\nexport const setObject = (key, value) =>\n  window.sessionStorage.setItem(key, JSON.stringify(value));\n\nexport const LogoutButton = () => {\n  window.localStorage.clear();\n  window.location.replace(\"/\");\n  const [loggedOut, setLoggedOut] = useState(false);\n\n  const logout = () => {\n    localStorage.removeItem(\"whpf_user\");\n    setLoggedOut(true);\n  };\n\n  if (loggedOut) {\n    return <Redirect to=\"/\" push={true} />;\n  }\n\n  return <Button onClick={logout}>LogOut</Button>;\n};\n"]},"metadata":{},"sourceType":"module"}