{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{32:function(e,t){throw new Error('Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /Users/macuser/project/spotify-api-project/client/src/Pages/Moods.js: Unexpected token, expected \",\" (363:23)\\n\\n\\x1b[0m \\x1b[90m 361 |\\x1b[39m               \\x1b[33m<\\x1b[39m\\x1b[33m>\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 362 |\\x1b[39m               { tracks\\x1b[33m.\\x1b[39mlength \\x1b[33m!=\\x1b[39m \\x1b[35m0\\x1b[39m \\x1b[33m?\\x1b[39m (\\x1b[0m\\n\\x1b[0m\\x1b[31m\\x1b[1m>\\x1b[22m\\x1b[39m\\x1b[90m 363 |\\x1b[39m                 {tracks\\x1b[33m.\\x1b[39mtracks\\x1b[33m.\\x1b[39mmap((track\\x1b[33m,\\x1b[39m key) \\x1b[33m=>\\x1b[39m (\\x1b[0m\\n\\x1b[0m \\x1b[90m     |\\x1b[39m                        \\x1b[31m\\x1b[1m^\\x1b[22m\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 364 |\\x1b[39m                   \\x1b[33m<\\x1b[39m\\x1b[33mTrackInfo\\x1b[39m\\x1b[0m\\n\\x1b[0m \\x1b[90m 365 |\\x1b[39m                     key\\x1b[33m=\\x1b[39m{key}\\x1b[0m\\n\\x1b[0m \\x1b[90m 366 |\\x1b[39m                     track\\x1b[33m=\\x1b[39m{track}\\x1b[0m\\n    at Object._raise (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:798:17)\\n    at Object.raiseWithData (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:791:17)\\n    at Object.raise (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:752:17)\\n    at Object.unexpected (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:3257:16)\\n    at Object.expect (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:3231:28)\\n    at Object.parseObjectLike (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11945:14)\\n    at Object.parseExprAtom (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11432:23)\\n    at Object.parseExprAtom (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:7159:20)\\n    at Object.parseExprSubscripts (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11081:23)\\n    at Object.parseUpdate (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11061:21)\\n    at Object.parseMaybeUnary (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11039:23)\\n    at Object.parseExprOps (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:10882:23)\\n    at Object.parseMaybeConditional (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:10856:23)\\n    at Object.parseMaybeAssign (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:10814:21)\\n    at Object.parseMaybeAssign (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:5780:18)\\n    at /Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:10776:39')},47:function(e,t,c){},48:function(e,t,c){},49:function(e,t,c){},77:function(e,t,c){\"use strict\";c.r(t);var n=c(0),s=c.n(n),r=c(26),a=c.n(r),i=(c(47),c(48),c(49),c(1));function o(){return Object(i.jsxs)(\"div\",{className:\"login\",children:[Object(i.jsx)(\"p\",{children:\"An insight into your listening habits on Spotify\"}),Object(i.jsx)(\"a\",{href:\"https://react-express-spotify.herokuapp.com/login\",children:\" Login to Spotify \"})]})}var l=c(9),j=c(2),b=c(8);function d(e){var t=Math.floor(e/6e4),c=(e%6e4/1e3).toFixed(0);return t+\":\"+(c<10?\"0\":\"\")+c}var m=function(){window.localStorage.clear(),window.sessionStorage.clear(),window.location.replace(\"/\");var e=Object(n.useState)(!1),t=Object(b.a)(e,2),c=t[0],s=t[1];return c?Object(i.jsx)(Redirect,{to:\"/\",push:!0}):Object(i.jsx)(Button,{onClick:function(){localStorage.removeItem(\"whpf_user\"),s(!0)},children:\"LogOut\"})},p=function(){return Object(i.jsxs)(\"div\",{className:\"navbar\",children:[Object(i.jsx)(\"li\",{style:{background:\"green\"},children:Object(i.jsx)(l.b,{to:\"/\",activeStyle:{fontWeight:\"bold\",color:\"white\",background:\"green\"},children:\"HOME\"})}),Object(i.jsx)(\"li\",{children:Object(i.jsx)(l.b,{to:\"/Moods\",activeStyle:{fontWeight:\"bold\",color:\"green\"},children:\"Moods\"})}),Object(i.jsx)(\"li\",{children:Object(i.jsx)(l.b,{to:\"/TopTracks\",activeStyle:{fontWeight:\"bold\",color:\"green\"},children:\"Top Tracks\"})}),Object(i.jsx)(\"li\",{children:Object(i.jsx)(l.b,{to:\"/RecentTracks\",activeStyle:{fontWeight:\"bold\",color:\"green\"},children:\"RecentlyPlayed\"})}),Object(i.jsx)(\"li\",{style:{float:\"right\"},children:Object(i.jsx)(l.b,{to:\"/logout\",children:\"Logout\"})})]})},u=c(14),h=c.n(u),x=c(29),O=c(30),f=c.n(O),k=c(31),g=new(c.n(k).a),y=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=window.localStorage.getItem(\"refresh_token\"),f.a.get(\"https://react-express-spotify.herokuapp.com/refresh_token\",{params:{refresh_token:t}}).then((function(e){var t=e.data.access_token;console.log(\"New acccess_token\",t),window.localStorage.setItem(\"access_token\",t),window.localStorage.setItem(\"token_timestamp\",Date.now()),window.location.reload()})).catch((function(e){return console.log(e)}));case 2:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=function(){var e,t={},c=/([^&;=]+)=?([^&;]*)/g,n=window.location.hash.substring(1);for(e=c.exec(n);e;)t[e[1]]=decodeURIComponent(e[2]),e=c.exec(n);return t}(),t=e.error,c=e.access_token,n=e.refresh_token;if(t&&(console.log(t),y()),c&&n)return window.location.replace(\"/\"),window.localStorage.setItem(\"access_token\",c),window.localStorage.setItem(\"refresh_token\",n),window.localStorage.setItem(\"token_timestamp\",Date.now()),c;var s=window.localStorage.getItem(\"token_timestamp\");return s&&\"undefined\"!==s&&Date.now()-s>36e5&&(console.log(\"Token expired, refreshing token\"),y()),window.localStorage.getItem(\"access_token\")},w=v();g.setAccessToken(w);var _=function(){var e=Object(n.useState)(),t=Object(b.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){g.getMe().then((function(e){s(e)})).catch((function(){v()}))}),[]),console.log(c),Object(i.jsx)(\"div\",{children:c?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(\"h1\",{children:\"Welcome to Spoti-FYI.\"}),Object(i.jsxs)(\"h2\",{children:[\"Hi \",c.display_name.split(\" \")[0],\" \"]}),Object(i.jsx)(\"img\",{src:c.images[0].url})]}):Object(i.jsx)(\"p\",{children:\"Loading\"})})},S=function(e){var t=e.track,c=e.index;return Object(i.jsx)(\"a\",{className:\"TrackInfoLink\",href:t.uri,children:Object(i.jsxs)(\"div\",{className:\"card\",children:[Object(i.jsx)(\"img\",{src:t.album.images[1].url,alt:\"Track\"}),Object(i.jsxs)(\"div\",{className:\"containerCard\",children:[Object(i.jsxs)(\"h4\",{children:[Object(i.jsx)(\"p\",{children:c+1}),Object(i.jsx)(\"b\",{children:t.artists.map((function(e){return e.name})).join(\", \")})]}),Object(i.jsx)(\"p\",{children:t.name})]})]})})},N=function(){var e=Object(n.useState)(1),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(),a=Object(b.a)(r,2),o=a[0],l=a[1],j=Object(n.useState)(\"short_term\"),d=Object(b.a)(j,2),m=d[0],p=d[1],u=function(e,t){var c;(c=t)!=m&&l(),p(c),s(e)};return Object(n.useEffect)((function(){g.getMyTopTracks({limit:50,time_range:m}).then((function(e){e&&(console.log(e),l({items:e.items}))})).catch((function(){v()}))}),[m]),Object(i.jsxs)(\"div\",{children:[Object(i.jsx)(\"h2\",{children:\"Top Tracks\"}),Object(i.jsxs)(\"div\",{className:\"container\",children:[Object(i.jsxs)(\"div\",{className:\"bloc-tabs\",children:[Object(i.jsx)(\"button\",{className:1===c?\"tabs active-tabs\":\"tabs\",onClick:function(){return u(1,\"short_term\")},children:\"4 weeks\"}),Object(i.jsx)(\"button\",{className:2===c?\"tabs active-tabs\":\"tabs\",onClick:function(){return u(2,\"medium_term\")},children:\"6 months\"}),Object(i.jsx)(\"button\",{className:3===c?\"tabs active-tabs\":\"tabs\",onClick:function(){return u(3,\"long_term\")},children:\"All time\"})]}),o?Object(i.jsxs)(\"div\",{className:\"content-tabs\",children:[Object(i.jsx)(\"div\",{className:1===c?\"content  active-content\":\"content\",children:o.items.map((function(e,t){return Object(i.jsx)(S,{track:e,index:o.items.indexOf(e)},t)}))}),Object(i.jsx)(\"div\",{className:2===c?\"content  active-content\":\"content\",children:o.items.map((function(e,t){return Object(i.jsx)(S,{track:e,index:o.items.indexOf(e)},t)}))}),Object(i.jsx)(\"div\",{className:3===c?\"content  active-content\":\"content\",children:o.items.map((function(e,t){return Object(i.jsx)(S,{track:e,index:o.items.indexOf(e)},t)}))})]}):Object(i.jsx)(\"b\",{children:\"LOADING\"})]})]})},U=c(32),I=c.n(U),T=c(41),M=function(){var e=Object(n.useState)(),t=Object(b.a)(e,2),c=t[0],s=t[1];return Object(n.useEffect)((function(){g.getMyRecentlyPlayedTracks({limit:50}).then((function(e){e&&(console.log(e),s({items:e.items}))})).catch((function(){v()}))}),[]),console.log(c),Object(i.jsx)(\"div\",{children:c?Object(i.jsxs)(\"div\",{className:\"recently-played\",children:[Object(i.jsx)(\"h2\",{children:\"Recently played tracks\"}),Object(i.jsxs)(\"table\",{className:\"table\",children:[Object(i.jsx)(\"thead\",{children:Object(i.jsxs)(\"tr\",{children:[Object(i.jsx)(\"th\",{children:\"Duration\"}),Object(i.jsx)(\"th\",{children:\"Track\"}),Object(i.jsx)(\"th\",{children:\"Artist(s)\"}),Object(i.jsx)(\"th\",{children:\"Played at\"})]})}),Object(i.jsx)(\"tbody\",{children:c.items.map((function(e){return function(e){return Object(i.jsxs)(\"tr\",{children:[Object(i.jsx)(\"td\",{children:Object(i.jsx)(\"a\",{href:e.track.uri,className:\"row-link\",children:d(e.track.duration_ms)})}),Object(i.jsx)(\"td\",{children:Object(i.jsx)(\"a\",{href:e.track.uri,tabIndex:\"-1\",className:\"row-link\",children:e.track.name})}),Object(i.jsx)(\"td\",{children:Object(i.jsx)(\"a\",{href:e.track.uri,tabIndex:\"-1\",className:\"row-link\",children:e.track.artists.map((function(e){return e.name})).join(\", \")})}),Object(i.jsx)(\"td\",{children:Object(i.jsx)(\"a\",{href:e.track.uri,tabIndex:\"-1\",className:\"row-link\",children:Object(T.a)(Date.parse(e.played_at),\"dd/MM/yyyy, hh:mma\")})})]},e.played_at)}(e)}))})]})]}):Object(i.jsx)(\"b\",{children:\"LOADING\"})})};c(76);function A(){return Object(i.jsx)(l.a,{children:Object(i.jsxs)(\"div\",{children:[Object(i.jsx)(p,{}),Object(i.jsxs)(j.c,{children:[Object(i.jsx)(j.a,{path:\"/RecentTracks\",children:Object(i.jsx)(M,{})}),Object(i.jsx)(j.a,{path:\"/logout\",children:Object(i.jsx)(m,{})}),Object(i.jsx)(j.a,{path:\"/TopTracks\",children:Object(i.jsx)(N,{})}),Object(i.jsx)(j.a,{path:\"/Moods\",children:Object(i.jsx)(I.a,{})}),Object(i.jsx)(j.a,{path:\"/\",children:Object(i.jsx)(_,{})})]})]})})}var E=function(){return Object(i.jsx)(\"div\",{className:\"App\",children:w?Object(i.jsx)(A,{}):Object(i.jsx)(o,{})})};a.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(E,{})}),document.getElementById(\"root\"))}},[[77,1,2]]]);","name":"static/js/main.884764cf.chunk.js","map":{"version":3,"sources":["static/js/main.884764cf.chunk.js"],"names":["this","push","module","exports","Error","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","jsx_runtime","Login_Login","Object","className","children","href","react_router_dom","react_router","slicedToArray","millisToMinutesAndSeconds","millis","minutes","Math","floor","seconds","toFixed","functions_LogoutButton","window","localStorage","clear","sessionStorage","location","replace","_useState","_useState2","loggedOut","setLoggedOut","Redirect","to","Button","onClick","removeItem","components_Navbar","style","background","activeStyle","fontWeight","color","float","regenerator","regenerator_default","asyncToGenerator","axios","axios_default","spotify_web_api","spotifyApi","a","refreshAccessToken","_ref","mark","_callee","refresh_token","wrap","_context","prev","next","getItem","get","SERVER","params","then","res","access_token","data","console","log","setItem","Date","now","reload","catch","e","stop","apply","arguments","spotifyAPI_getAccessToken","_getHashParams","hashParams","q","hash","substring","exec","decodeURIComponent","getHashParams","error","tokenExpiry","token","setAccessToken","Pages_Home","profile","setProfile","getMe","response","display_name","split","src","images","url","components_TrackInfo","track","index","uri","album","alt","artists","map","name","join","Pages_TopTracks","toggleState","setToggleState","_useState3","_useState4","tracks","setTracks","_useState5","_useState6","timeRange","setTimeRange","toggleTab","time_range","newTimeRange","getMyTopTracks","limit","items","key","indexOf","Moods","Moods_default","format","Pages_RecentTracks","RecentlyPlayed","setRecentlyPlayed","getMyRecentlyPlayedTracks","item","duration_ms","tabIndex","parse","played_at","RecentTracks_TableItem","Dashboard","path","src_App","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 32:\n/***/ (function(module, exports) {\n\nthrow new Error(\"Module build failed (from ./node_modules/babel-loader/lib/index.js):\\nSyntaxError: /Users/macuser/project/spotify-api-project/client/src/Pages/Moods.js: Unexpected token, expected \\\",\\\" (363:23)\\n\\n\\u001b[0m \\u001b[90m 361 |\\u001b[39m               \\u001b[33m<\\u001b[39m\\u001b[33m>\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 362 |\\u001b[39m               { tracks\\u001b[33m.\\u001b[39mlength \\u001b[33m!=\\u001b[39m \\u001b[35m0\\u001b[39m \\u001b[33m?\\u001b[39m (\\u001b[0m\\n\\u001b[0m\\u001b[31m\\u001b[1m>\\u001b[22m\\u001b[39m\\u001b[90m 363 |\\u001b[39m                 {tracks\\u001b[33m.\\u001b[39mtracks\\u001b[33m.\\u001b[39mmap((track\\u001b[33m,\\u001b[39m key) \\u001b[33m=>\\u001b[39m (\\u001b[0m\\n\\u001b[0m \\u001b[90m     |\\u001b[39m                        \\u001b[31m\\u001b[1m^\\u001b[22m\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 364 |\\u001b[39m                   \\u001b[33m<\\u001b[39m\\u001b[33mTrackInfo\\u001b[39m\\u001b[0m\\n\\u001b[0m \\u001b[90m 365 |\\u001b[39m                     key\\u001b[33m=\\u001b[39m{key}\\u001b[0m\\n\\u001b[0m \\u001b[90m 366 |\\u001b[39m                     track\\u001b[33m=\\u001b[39m{track}\\u001b[0m\\n    at Object._raise (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:798:17)\\n    at Object.raiseWithData (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:791:17)\\n    at Object.raise (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:752:17)\\n    at Object.unexpected (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:3257:16)\\n    at Object.expect (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:3231:28)\\n    at Object.parseObjectLike (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11945:14)\\n    at Object.parseExprAtom (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11432:23)\\n    at Object.parseExprAtom (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:7159:20)\\n    at Object.parseExprSubscripts (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11081:23)\\n    at Object.parseUpdate (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11061:21)\\n    at Object.parseMaybeUnary (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:11039:23)\\n    at Object.parseExprOps (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:10882:23)\\n    at Object.parseMaybeConditional (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:10856:23)\\n    at Object.parseMaybeAssign (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:10814:21)\\n    at Object.parseMaybeAssign (/Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:5780:18)\\n    at /Users/macuser/project/spotify-api-project/client/node_modules/@babel/parser/lib/index.js:10776:39\");\n\n/***/ }),\n\n/***/ 47:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 77:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(26);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(47);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(48);\n\n// EXTERNAL MODULE: ./src/Pages/Login.css\nvar Login = __webpack_require__(49);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/Pages/Login.js\nvar SERVER_URL=\"https://react-express-spotify.herokuapp.com/login\";// https://react-express-spotify.herokuapp.com/login http://localhost:8888/login\nfunction Login_Login(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"An insight into your listening habits on Spotify\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:SERVER_URL,children:\" Login to Spotify \"})]});}\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./src/components/functions.js\n// gets hash parameters\nfunction getHashParams(){var hashParams={};var e,r=/([^&;=]+)=?([^&;]*)/g,q=window.location.hash.substring(1);e=r.exec(q);while(e){hashParams[e[1]]=decodeURIComponent(e[2]);e=r.exec(q);}return hashParams;}function millisToMinutesAndSeconds(millis){var minutes=Math.floor(millis/60000);var seconds=(millis%60000/1000).toFixed(0);return minutes+\":\"+(seconds<10?\"0\":\"\")+seconds;}var functions_LogoutButton=function LogoutButton(){window.localStorage.clear();window.sessionStorage.clear();window.location.replace(\"/\");var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loggedOut=_useState2[0],setLoggedOut=_useState2[1];var logout=function logout(){localStorage.removeItem(\"whpf_user\");setLoggedOut(true);};if(loggedOut){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Redirect,{to:\"/\",push:true});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button,{onClick:logout,children:\"LogOut\"});};\n// CONCATENATED MODULE: ./src/components/Navbar.js\nvar Navbar_Navbar=function Navbar(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"navbar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{style:{background:'green'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* NavLink */],{to:\"/\",activeStyle:{fontWeight:\"bold\",color:\"white\",background:\"green\"},children:\"HOME\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* NavLink */],{to:\"/Moods\",activeStyle:{fontWeight:\"bold\",color:\"green\"},children:\"Moods\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* NavLink */],{to:\"/TopTracks\",activeStyle:{fontWeight:\"bold\",color:\"green\"},children:\"Top Tracks\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* NavLink */],{to:\"/RecentTracks\",activeStyle:{fontWeight:\"bold\",color:\"green\"},children:\"RecentlyPlayed\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{style:{float:\"right\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* NavLink */],{to:\"/logout\",children:\"Logout\"})})]});};/* harmony default export */ var components_Navbar = (Navbar_Navbar);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(14);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(29);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(30);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/spotify-web-api-js/src/spotify-web-api.js\nvar spotify_web_api = __webpack_require__(31);\nvar spotify_web_api_default = /*#__PURE__*/__webpack_require__.n(spotify_web_api);\n\n// CONCATENATED MODULE: ./src/components/spotifyAPI.js\nvar EXPIRATION_TIME=3600000;// 1 hour\nvar SERVER=\"https://react-express-spotify.herokuapp.com/\";// or https://react-express-spotify.herokuapp.com/ http://localhost:8888\n//REFRESH ACCESS TOKEN EVERY 1 HOUR\n// REFRESH_URI\n// USES JMPerez's spotify-web-api-js\nvar spotifyApi=new spotify_web_api_default.a();// constantly refreshing\nvar refreshAccessToken=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var refresh_token;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// take refresh token from local storage\nrefresh_token=window.localStorage.getItem(\"refresh_token\");axios_default.a.get(SERVER+\"refresh_token\",{params:{refresh_token:refresh_token}}).then(function(res){var access_token=res.data.access_token;console.log(\"New acccess_token\",access_token);window.localStorage.setItem(\"access_token\",access_token);window.localStorage.setItem(\"token_timestamp\",Date.now());window.location.reload();}).catch(function(e){return console.log(e);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function refreshAccessToken(){return _ref.apply(this,arguments);};}();// GET TOKEN, REFRESH IF REQUIRED\nvar spotifyAPI_getAccessToken=function getAccessToken(){// Takes token from our url\nvar _getHashParams=getHashParams(),error=_getHashParams.error,access_token=_getHashParams.access_token,refresh_token=_getHashParams.refresh_token;//  token invalid freom timeout\nif(error){console.log(error);refreshAccessToken();}if(access_token&&refresh_token){window.location.replace(\"/\");window.localStorage.setItem(\"access_token\",access_token);window.localStorage.setItem(\"refresh_token\",refresh_token);window.localStorage.setItem(\"token_timestamp\",Date.now());return access_token;}// THIS WILL AUTO REFRESH OUR TOKEN BASED ON EXPIRY TIME\nvar tokenExpiry=window.localStorage.getItem(\"token_timestamp\");if(tokenExpiry&&tokenExpiry!==\"undefined\"&&Date.now()-tokenExpiry>EXPIRATION_TIME){console.log(\"Token expired, refreshing token\");refreshAccessToken();}var local_access_token=window.localStorage.getItem(\"access_token\");return local_access_token;};// SET OUR TOKEN with our spotify-web-api-js\nvar token=spotifyAPI_getAccessToken();spotifyApi.setAccessToken(token);\n// CONCATENATED MODULE: ./src/Pages/Home.js\nvar Home_Home=function Home(){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),profile=_useState2[0],setProfile=_useState2[1];Object(react[\"useEffect\"])(function(){spotifyApi.getMe().then(function(response){setProfile(response);}).catch(function(){spotifyAPI_getAccessToken();});},[]);console.log(profile);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:profile?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Welcome to Spoti-FYI.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Hi \",profile.display_name.split(' ')[0],\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:profile.images[0].url})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Loading\"})});};/* harmony default export */ var Pages_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/components/TrackInfo.js\n// our track card for displaying artist, trackname and the picture\nvar TrackInfo_TrackInfo=function TrackInfo(_ref){var track=_ref.track,index=_ref.index;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{className:\"TrackInfoLink\",href:track.uri,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:track.album.images[1].url,alt:\"Track\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"containerCard\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:index+1}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:track.artists.map(function(e){return e.name;}).join(\", \")})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:track.name})]})]})});};/* harmony default export */ var components_TrackInfo = (TrackInfo_TrackInfo);\n// CONCATENATED MODULE: ./src/Pages/TopTracks.js\nvar TopTracks_TopTracks=function TopTracks(){var _useState=Object(react[\"useState\"])(1),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),toggleState=_useState2[0],setToggleState=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),tracks=_useState4[0],setTracks=_useState4[1];var _useState5=Object(react[\"useState\"])(\"short_term\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),timeRange=_useState6[0],setTimeRange=_useState6[1];var changeTerm=function changeTerm(newTimeRange){if(newTimeRange!=timeRange){setTracks();}setTimeRange(newTimeRange);};var toggleTab=function toggleTab(index,time_range){changeTerm(time_range);setToggleState(index);};Object(react[\"useEffect\"])(function(){spotifyApi.getMyTopTracks({limit:50,time_range:timeRange}).then(function(response){if(response){console.log(response);setTracks({items:response.items});}}).catch(function(){spotifyAPI_getAccessToken();});},[timeRange]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Top Tracks\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bloc-tabs\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:toggleState===1?\"tabs active-tabs\":\"tabs\",onClick:function onClick(){return toggleTab(1,\"short_term\");},children:\"4 weeks\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:toggleState===2?\"tabs active-tabs\":\"tabs\",onClick:function onClick(){return toggleTab(2,\"medium_term\");},children:\"6 months\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:toggleState===3?\"tabs active-tabs\":\"tabs\",onClick:function onClick(){return toggleTab(3,\"long_term\");},children:\"All time\"})]}),tracks?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"content-tabs\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:toggleState===1?\"content  active-content\":\"content\",children:tracks.items.map(function(track,key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_TrackInfo,{track:track,index:tracks.items.indexOf(track)},key);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:toggleState===2?\"content  active-content\":\"content\",children:tracks.items.map(function(track,key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_TrackInfo,{track:track,index:tracks.items.indexOf(track)},key);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:toggleState===3?\"content  active-content\":\"content\",children:tracks.items.map(function(track,key){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_TrackInfo,{track:track,index:tracks.items.indexOf(track)},key);})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"LOADING\"})]})]});};/* harmony default export */ var Pages_TopTracks = (TopTracks_TopTracks);\n// EXTERNAL MODULE: ./src/Pages/Moods.js\nvar Moods = __webpack_require__(32);\nvar Moods_default = /*#__PURE__*/__webpack_require__.n(Moods);\n\n// EXTERNAL MODULE: ./node_modules/date-fns/esm/format/index.js + 31 modules\nvar format = __webpack_require__(41);\n\n// CONCATENATED MODULE: ./src/Pages/RecentTracks.js\nvar RecentTracks_TableItem=function TableItem(item){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:item.track.uri,className:\"row-link\",children:millisToMinutesAndSeconds(item.track.duration_ms)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:item.track.uri,tabIndex:\"-1\",className:\"row-link\",children:item.track.name})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:item.track.uri,tabIndex:\"-1\",className:\"row-link\",children:item.track.artists.map(function(e){return e.name;}).join(\", \")})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"td\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:item.track.uri,tabIndex:\"-1\",className:\"row-link\",children:Object(format[\"a\" /* default */])(Date.parse(item.played_at),\"dd/MM/yyyy, hh:mma\")})})]},item.played_at);};var RecentTracks_RecentTracks=function RecentTracks(){var _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),RecentlyPlayed=_useState2[0],setRecentlyPlayed=_useState2[1];// variable limit? with useeffect to load more maybe on scroll down, limit will change\nObject(react[\"useEffect\"])(function(){spotifyApi.getMyRecentlyPlayedTracks({limit:50}).then(function(response){if(response){console.log(response);setRecentlyPlayed({items:response.items});}}).catch(function(){spotifyAPI_getAccessToken();});},[]);console.log(RecentlyPlayed);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:RecentlyPlayed?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recently-played\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Recently played tracks\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"table\",{className:\"table\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Duration\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Track\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Artist(s)\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"th\",{children:\"Played at\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"tbody\",{children:RecentlyPlayed.items.map(function(item){return RecentTracks_TableItem(item);})})]})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"LOADING\"})});};/* harmony default export */ var Pages_RecentTracks = (RecentTracks_RecentTracks);\n// EXTERNAL MODULE: ./node_modules/react-spotify-web-playback/esm/index.js + 31 modules\nvar esm = __webpack_require__(76);\n\n// CONCATENATED MODULE: ./src/Pages/Dashboard.js\nfunction Dashboard(){// TODO: This takes too many requests, remove for now\n/*const [isPlaying, setIsPlaying] = useState(false);\n// Note the spotify web player SDK is in beta so performance is janky\n\nuseEffect(() => {\n\tconst interval = setInterval( async () => {\n\tspotifyApi.getMyCurrentPlaybackState().then((response) => {\n\t\tif (response) {\n\t\tif (response.is_playing) {\n\t\t\tsetIsPlaying(true);\n\t\t}\n\t\t} else if (!response) {\n\t\tsetIsPlaying(false);\n\t\t}\n\t})\n\t.catch(() => {\n\t\tgetAccessToken()\n\t});\n\t}, 7000);\n\treturn () => clearInterval(interval);\n}, [isPlaying]);*/ //return should return, getTOPTRACKS, make playlist\n// DashBoard should tell us our favourite genre based on our top artist\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/RecentTracks\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pages_RecentTracks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/logout\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(functions_LogoutButton,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/TopTracks\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pages_TopTracks,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/Moods\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Moods_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Pages_Home,{})})]})]})});}// ****** NESTED ROUTING\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:token?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dashboard,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Login_Login,{})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[77,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/macuser/project/spotify-api-project/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/macuser/project/spotify-api-project/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/macuser/project/spotify-api-project/client/node_modules/postcss-loader/src/index.js??postcss!/Users/macuser/project/spotify-api-project/client/src/index.css","/Users/macuser/project/spotify-api-project/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/macuser/project/spotify-api-project/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/macuser/project/spotify-api-project/client/node_modules/postcss-loader/src/index.js??postcss!/Users/macuser/project/spotify-api-project/client/src/App.css","/Users/macuser/project/spotify-api-project/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/macuser/project/spotify-api-project/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/macuser/project/spotify-api-project/client/node_modules/postcss-loader/src/index.js??postcss!/Users/macuser/project/spotify-api-project/client/src/Pages/Login.css","/Users/macuser/project/spotify-api-project/client/src/Pages/Login.js","/Users/macuser/project/spotify-api-project/client/src/components/functions.js","/Users/macuser/project/spotify-api-project/client/src/components/Navbar.js","/Users/macuser/project/spotify-api-project/client/src/components/spotifyAPI.js","/Users/macuser/project/spotify-api-project/client/src/Pages/Home.js","/Users/macuser/project/spotify-api-project/client/src/components/TrackInfo.js","/Users/macuser/project/spotify-api-project/client/src/Pages/TopTracks.js","/Users/macuser/project/spotify-api-project/client/src/Pages/RecentTracks.js","/Users/macuser/project/spotify-api-project/client/src/Pages/Dashboard.js","/Users/macuser/project/spotify-api-project/client/src/App.js","/Users/macuser/project/spotify-api-project/client/src/index.js"],"names":["SERVER_URL","Login","getHashParams","hashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","millisToMinutesAndSeconds","millis","minutes","Math","floor","seconds","toFixed","LogoutButton","localStorage","clear","sessionStorage","replace","useState","loggedOut","setLoggedOut","logout","removeItem","Navbar","background","fontWeight","color","float","EXPIRATION_TIME","SERVER","spotifyApi","SpotifyWebApi","refreshAccessToken","refresh_token","getItem","axios","get","params","then","res","access_token","data","console","log","setItem","Date","now","reload","catch","getAccessToken","error","tokenExpiry","local_access_token","token","setAccessToken","Home","profile","setProfile","useEffect","getMe","response","display_name","split","images","url","TrackInfo","track","index","uri","album","artists","map","name","join","TopTracks","toggleState","setToggleState","tracks","setTracks","timeRange","setTimeRange","changeTerm","newTimeRange","toggleTab","time_range","getMyTopTracks","limit","items","key","indexOf","TableItem","item","duration_ms","format","parse","played_at","RecentTracks","RecentlyPlayed","setRecentlyPlayed","getMyRecentlyPlayedTracks","Dashboard","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from \"react\";\nimport \"./Login.css\";\n\nconst SERVER_URL = \"https://react-express-spotify.herokuapp.com/login\"; // https://react-express-spotify.herokuapp.com/login http://localhost:8888/login\n\nexport default function Login() {\nreturn (\n\t<div className=\"login\">\n\n\t<p>\n\t\tAn insight into your listening habits on Spotify\n\t</p>\n\t<a href={SERVER_URL}> Login to Spotify </a>\n\t</div>\n);\n}\n","import React, { useState } from \"react\";\n\n// gets hash parameters\nexport function getHashParams() {\n\tvar hashParams = {};\n\tvar e,\n\t\tr = /([^&;=]+)=?([^&;]*)/g,\n\t\tq = window.location.hash.substring(1);\n\te = r.exec(q);\n\twhile (e) {\n\t\thashParams[e[1]] = decodeURIComponent(e[2]);\n\t\te = r.exec(q);\n\t}\n\n\treturn hashParams;\n}\n\nexport function millisToMinutesAndSeconds(millis) {\n\tvar minutes = Math.floor(millis / 60000);\n\tvar seconds = ((millis % 60000) / 1000).toFixed(0);\n\treturn minutes + \":\" + (seconds < 10 ? \"0\" : \"\") + seconds;\n}\n\n\nexport const LogoutButton = () => {\n\twindow.localStorage.clear();\n\twindow.sessionStorage.clear();\n\twindow.location.replace(\"/\");\n\tconst [loggedOut, setLoggedOut] = useState(false);\n\n\tconst logout = () => {\n\t\tlocalStorage.removeItem(\"whpf_user\");\n\t\tsetLoggedOut(true);\n\t};\n\n\tif (loggedOut) {\n\t\treturn <Redirect to=\"/\" push={true} />;\n\t}\n\n\treturn <Button onClick={logout}>LogOut</Button>;\n};\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Navbar = () => {\n\treturn (\n\t\t<div className=\"navbar\">\n\t\t<li style={\n\t\t\t{\n\t\t\t\tbackground:'green',\n\t\t\t}\n\t\t}>\n\t\t\t<NavLink to=\"/\" \n\t\t\tactiveStyle={{\n\t\t\t\tfontWeight: \"bold\",\n\t\t\t\tcolor: \"white\",\n\t\t\t\tbackground:\"green\",\n\t\t\t}}>HOME</NavLink>\n\t\t</li>\n\t\t<li>\n\t\t\t<NavLink\n\t\t\tto=\"/Moods\"\n\t\t\tactiveStyle={{\n\t\t\t\tfontWeight: \"bold\",\n\t\t\t\tcolor: \"green\",\n\t\t\t}}\n\t\t\t>\n\t\t\tMoods\n\t\t\t</NavLink>\n\t\t</li>\n\t\t<li>\n\t\t\t<NavLink\n\t\t\tto=\"/TopTracks\"\n\t\t\tactiveStyle={{\n\t\t\t\tfontWeight: \"bold\",\n\t\t\t\tcolor: \"green\",\n\t\t\t}}\n\t\t\t>\n\t\t\tTop Tracks\n\t\t\t</NavLink>\n\t\t</li>\n\t\t<li>\n\t\t\t<NavLink\n\t\t\tto=\"/RecentTracks\"\n\t\t\tactiveStyle={{\n\t\t\t\tfontWeight: \"bold\",\n\t\t\t\tcolor: \"green\",\n\t\t\t}}\n\t\t\t>\n\t\t\tRecentlyPlayed\n\t\t\t</NavLink>\n\t\t</li>\n\n\t\t<li style={{ float: \"right\" }}>\n\t\n\t\t\t<NavLink to=\"/logout\">Logout</NavLink>\n\t\t</li>\n\t\t</div>\n\t);\n};\n\nexport default Navbar;\n","import axios from \"axios\";\nimport { getHashParams, getObject, setObject } from \"./functions\";\nimport SpotifyWebApi from \"spotify-web-api-js\";\n\nconst EXPIRATION_TIME = 3600000; // 1 hour\nconst SERVER = \"https://react-express-spotify.herokuapp.com/\"; // or https://react-express-spotify.herokuapp.com/ http://localhost:8888\n//REFRESH ACCESS TOKEN EVERY 1 HOUR\n// REFRESH_URI\n\n// USES JMPerez's spotify-web-api-js\n\nexport const spotifyApi = new SpotifyWebApi();\n\n// constantly refreshing\nexport const refreshAccessToken = async () => {\n// take refresh token from local storage\n\tconst refresh_token = window.localStorage.getItem(\"refresh_token\");\n\taxios\n\t\t.get(SERVER + \"refresh_token\", {\n\t\tparams: {\n\t\t\trefresh_token: refresh_token,\n\t\t},\n\t\t})\n\t\t.then((res) => {\n\t\tconst access_token = res.data.access_token;\n\t\tconsole.log(\"New acccess_token\", access_token);\n\t\twindow.localStorage.setItem(\"access_token\", access_token);\n\t\twindow.localStorage.setItem(\"token_timestamp\", Date.now());\n\t\twindow.location.reload();\n\t\t})\n\t\t.catch((e) => console.log(e));\n};\n\n// GET TOKEN, REFRESH IF REQUIRED\nexport const getAccessToken = () => {\n// Takes token from our url\n\n\tconst { error, access_token, refresh_token } = getHashParams();\n\n\t//  token invalid freom timeout\n\tif (error) {\n\t\tconsole.log(error);\n\t\trefreshAccessToken();\n\t}\n\n\tif (access_token && refresh_token) {\n\t\twindow.location.replace(\"/\");\n\t\twindow.localStorage.setItem(\"access_token\", access_token);\n\t\twindow.localStorage.setItem(\"refresh_token\", refresh_token);\n\t\twindow.localStorage.setItem(\"token_timestamp\", Date.now());\n\n\t\treturn access_token;\n\t}\n\t// THIS WILL AUTO REFRESH OUR TOKEN BASED ON EXPIRY TIME\n\tconst tokenExpiry = window.localStorage.getItem(\"token_timestamp\");\n\n\tif (\n\t\ttokenExpiry &&\n\t\ttokenExpiry !== \"undefined\" &&\n\t\tDate.now() - tokenExpiry > EXPIRATION_TIME\n\t) {\n\t\tconsole.log(\"Token expired, refreshing token\");\n\t\trefreshAccessToken();\n\t}\n\n\tconst local_access_token = window.localStorage.getItem(\"access_token\");\n\n\treturn local_access_token;\n};\n\n// SET OUR TOKEN with our spotify-web-api-js\nexport const token = getAccessToken();\n\nspotifyApi.setAccessToken(token);\n","import React, { useState, useEffect } from \"react\";\nimport { spotifyApi, getAccessToken } from \"../components/spotifyAPI\";\n\nconst Home = () => {\n    const [profile, setProfile] = useState()\n\n\n\tuseEffect(() => {\n\t\tspotifyApi.getMe()\n\t\t.then((response) => {\n\t\t\tsetProfile(response)\n\n\t\t})\n        .catch(() => {\n            getAccessToken()\n        })\n\t},[])\n\t\n\n\n\n\tconsole.log(profile)\n\n\n \n    return (\n        <div>\n        {profile ? <>\n\n        \n            <h1>Welcome to Spoti-FYI.</h1>\n\n            <h2>Hi {profile.display_name.split(' ')[0]} </h2>\n            <img src={profile.images[0].url} />\n            </>\n            : <p>Loading</p>\n\n        }\n        </div>\n    )\n}\n\nexport default Home","import React from \"react\";\n\n// our track card for displaying artist, trackname and the picture\nconst TrackInfo = ({ track, index }) => {\n\treturn (\n\t\t<a className=\"TrackInfoLink\" href={track.uri}>\n\t\t<div className=\"card\">\n\t\t\t<img src={track.album.images[1].url} alt=\"Track\" />\n\t\t\t<div className=\"containerCard\">\n\t\t\t\t\n\t\t\t<h4>\n\t\t\t<p>{index + 1}</p>\n\t\t\t\t<b>{track.artists.map((e) => e.name).join(\", \")}</b>\n\t\t\t</h4>\n\t\t\t<p>{track.name}</p>\n\t\t\t</div>\n\t\t</div>\n\t\t</a>\n\t);\n};\n\nexport default TrackInfo;\n","import React, { useState, useEffect } from \"react\";\nimport { spotifyApi, getAccessToken } from \"../components/spotifyAPI\";\nimport TrackInfo from \"../components/TrackInfo\";\n\nconst TopTracks = () => {\n  \tconst [toggleState, setToggleState] = useState(1);\n\n\tconst [tracks, setTracks] = useState();\n\tconst [timeRange, setTimeRange] = useState(\"short_term\");\n\n  \tconst changeTerm = (newTimeRange) => {\n\t\tif (newTimeRange != timeRange) {\n\t\t\tsetTracks()\n\t\t}\n\t\tsetTimeRange(newTimeRange);\n\t};\n\tconst toggleTab = (index, time_range) => {\n\t\tchangeTerm(time_range);\n\t\tsetToggleState(index);\n\t};\n  \tuseEffect(() => {\n\t\tspotifyApi\n\t\t.getMyTopTracks({\n\t\t\tlimit: 50,\n\t\t\ttime_range: timeRange,\n\t\t})\n\t\t.then((response) => {\n\t\t\tif (response) {\n\t\t\tconsole.log(response);\n\t\t\tsetTracks({\n\t\t\t\titems: response.items,\n\t\t\t});\n\t\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tgetAccessToken();\n\t\t});\n\t}, [timeRange]);\n\n\treturn (\n\t\t<div>\n\t\t<h2>Top Tracks</h2>\n\n\t\t<div className=\"container\">\n\t\t\t<div className=\"bloc-tabs\">\n\t\t\t<button\n\t\t\t\tclassName={toggleState === 1 ? \"tabs active-tabs\" : \"tabs\"}\n\t\t\t\tonClick={() => toggleTab(1, \"short_term\")}\n\t\t\t>\n\t\t\t\t4 weeks\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclassName={toggleState === 2 ? \"tabs active-tabs\" : \"tabs\"}\n\t\t\t\tonClick={() => toggleTab(2, \"medium_term\")}\n\t\t\t>\n\t\t\t\t6 months\n\t\t\t</button>\n\t\t\t<button\n\t\t\t\tclassName={toggleState === 3 ? \"tabs active-tabs\" : \"tabs\"}\n\t\t\t\tonClick={() => toggleTab(3, \"long_term\")}\n\t\t\t>\n\t\t\t\tAll time\n\t\t\t</button>\n\t\t\t</div>\n\t\t\t{tracks ? (\n\t\t\t<div className=\"content-tabs\">\n\t\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\ttoggleState === 1 ? \"content  active-content\" : \"content\"\n\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t{tracks.items.map((track, key) => (\n\t\t\t\t\t<TrackInfo key={key} track={track} index={tracks.items.indexOf(track)} />\n\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\ttoggleState === 2 ? \"content  active-content\" : \"content\"\n\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t{tracks.items.map((track, key) => (\n\t\t\t\t\t<TrackInfo key={key} track={track} index={tracks.items.indexOf(track)} />\n\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\ttoggleState === 3 ? \"content  active-content\" : \"content\"\n\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t{tracks.items.map((track, key) => (\n\t\t\t\t\t<TrackInfo key={key} track={track} index={tracks.items.indexOf(track)}  />\n\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t) : (\n\t\t\t<b>LOADING</b>\n\t\t\t)}\n\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TopTracks;\n","import React, { Component, useState, useEffect } from \"react\";\nimport { spotifyApi, getAccessToken } from \"../components/spotifyAPI\";\nimport format from \"date-fns/format\";\nimport { millisToMinutesAndSeconds } from \"../components/functions\";\n\nconst TableItem = (item) => (\n  <tr key={item.played_at}>\n    <td>\n      <a href={item.track.uri} className=\"row-link\">\n        {millisToMinutesAndSeconds(item.track.duration_ms)}\n      </a>\n    </td>\n\n    <td>\n      <a href={item.track.uri} tabIndex=\"-1\" className=\"row-link\">\n        {item.track.name}\n      </a>\n    </td>\n    <td>\n      <a href={item.track.uri} tabIndex=\"-1\" className=\"row-link\">\n        {item.track.artists.map((e) => e.name).join(\", \")}\n      </a>\n    </td>\n    <td>\n      <a href={item.track.uri} tabIndex=\"-1\" className=\"row-link\">\n        {format(Date.parse(item.played_at), \"dd/MM/yyyy, hh:mma\")}\n      </a>\n    </td>\n  </tr>\n);\n\nconst RecentTracks = () => {\n  const [RecentlyPlayed, setRecentlyPlayed] = useState();\n\n  // variable limit? with useeffect to load more maybe on scroll down, limit will change\n  useEffect(() => {\n    spotifyApi\n      .getMyRecentlyPlayedTracks({\n        limit: 50,\n      })\n      .then((response) => {\n        if (response) {\n          console.log(response);\n          setRecentlyPlayed({\n            items: response.items,\n          });\n        }\n      })\n      .catch(() => {\n        getAccessToken();\n      });\n  }, []);\n  console.log(RecentlyPlayed);\n\n  return (\n    <div>\n      {RecentlyPlayed ? (\n        <div className=\"recently-played\">\n          <h2>Recently played tracks</h2>\n\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>Duration</th>\n                <th>Track</th>\n                <th>Artist(s)</th>\n                <th>Played at</th>\n              </tr>\n            </thead>\n            <tbody>{RecentlyPlayed.items.map((item) => TableItem(item))}</tbody>\n          </table>\n        </div>\n      ) : (\n        <b>LOADING</b>\n      )}\n    </div>\n  );\n};\nexport default RecentTracks;\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { LogoutButton } from \"../components/functions\";\nimport Navbar from \"../components/Navbar\";\nimport Home from \"./Home\";\nimport TopTracks from \"./TopTracks\";\nimport Moods from \"./Moods\";\nimport RecentTracks from \"./RecentTracks\";\nimport SpotifyPlayer from \"react-spotify-web-playback\";\nimport { spotifyApi, token, getAccessToken } from \"../components/spotifyAPI\";\n\n\n\nexport default function Dashboard() {\n// TODO: This takes too many requests, remove for now\n/*const [isPlaying, setIsPlaying] = useState(false);\n// Note the spotify web player SDK is in beta so performance is janky\n\nuseEffect(() => {\n\tconst interval = setInterval( async () => {\n\tspotifyApi.getMyCurrentPlaybackState().then((response) => {\n\t\tif (response) {\n\t\tif (response.is_playing) {\n\t\t\tsetIsPlaying(true);\n\t\t}\n\t\t} else if (!response) {\n\t\tsetIsPlaying(false);\n\t\t}\n\t})\n\t.catch(() => {\n\t\tgetAccessToken()\n\t});\n\t}, 7000);\n\treturn () => clearInterval(interval);\n}, [isPlaying]);*/\n\n//return should return, getTOPTRACKS, make playlist\n// DashBoard should tell us our favourite genre based on our top artist\n\n\t\n\treturn (\n\t\t<BrowserRouter>\n\t\t<div /* will make a header bar FOR ALL OUR BROWSER ROUTES*/>\n\t\t\t<Navbar />\n\n\t\t\t<Switch>\n\t\t\t<Route path=\"/RecentTracks\">\n\t\t\t\t<RecentTracks />\n\t\t\t</Route>\n\t\t\t<Route path=\"/logout\">\n\t\t\t\t<LogoutButton />\n\t\t\t</Route>\n\t\t\t<Route path=\"/TopTracks\">\n\t\t\t\t<TopTracks />\n\t\t\t</Route>\n\t\t\t<Route path=\"/Moods\">\n\t\t\t\t<Moods />\n\t\t\t</Route>\n\t\t\t<Route path=\"/\">\n\t\t\t\t<Home />\n\t\t\t</Route>\n\t\t\t</Switch>\n\t\t\t{/*isPlaying ? (\n\t\t\t<div className=\"player\">\n\t\t\t\t<b>Currently Playing</b>\n\t\t\t\t<SpotifyPlayer\n\t\t\t\ttoken={token}\n\t\t\t\tsyncExternalDevice={true}\n\t\t\t\tsyncExternalDeviceInterval={5}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t) : (\n\t\t\t<div className=\"player\">\n\t\t\t\t<b>Currently Not Playing Anything </b>\n\t\t\t</div>\n\t\t\t)*/}\n\t\t</div>\n\t\t</BrowserRouter>\n\t\t\n\t);\n}\n// ****** NESTED ROUTING\n","import React, { Component, useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Login from \"./Pages/Login\";\nimport Dashboard from \"./Pages/Dashboard\";\n\nimport { token } from \"./components/spotifyAPI\";\n\n\nfunction App() {\n\n  return (\n    <div className=\"App\">{token ? <Dashboard/> : <Login />}</div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"]}}